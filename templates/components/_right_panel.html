<!-- RIGHT SIDEBAR PANEL - Calendar and Upcoming Events ONLY -->
{% load static %}

<div class="right-panel-content">
  <!-- CALENDAR WIDGET -->
  <div class="panel-section calendar-section">
    <div class="panel-section-header">
      <h3 id="calendarMonthTitle">January 2026</h3>
      <div class="calendar-nav">
        <button type="button" id="calPrev" aria-label="Previous month">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button type="button" id="calNext" aria-label="Next month">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>
    <div class="month-calendar">
      <div class="calendar-weekdays">
        <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span
        ><span>Fri</span><span>Sat</span><span>Sun</span>
      </div>
      <div class="calendar-days-grid" id="calendarDaysGrid">
        <!-- Rendered by JS with rounded tile design -->
      </div>
    </div>
  </div>

  <!-- UPCOMING EVENTS -->
  <div class="panel-section events-section">
    <div class="panel-section-header">
      <h3>Upcoming Events</h3>
      <button
        type="button"
        class="add-event-btn-small"
        id="addEventBtnSidebar"
        title="Add Event"
        aria-label="Add Event"
      >
        <i class="fas fa-plus"></i>
      </button>
    </div>
    <div class="upcoming-events-list" id="sidebarEventsList">
      <!-- Demo Events -->
      <div class="event-item-small">
        <div class="event-date-badge">
          <span class="day">12</span>
          <span class="month">JAN</span>
        </div>
        <div class="event-info-small">
          <h4>Faculty Meeting</h4>
          <span class="time">09:00 AM • Meeting Room 1</span>
        </div>
      </div>
      <div class="event-item-small">
        <div class="event-date-badge">
          <span class="day">15</span>
          <span class="month">JAN</span>
        </div>
        <div class="event-info-small">
          <h4>Science Fair Prep</h4>
          <span class="time">02:00 PM • Lab 3</span>
        </div>
      </div>
      <div class="event-item-small">
        <div class="event-date-badge">
          <span class="day">20</span>
          <span class="month">JAN</span>
        </div>
        <div class="event-info-small">
          <h4>Parent Teacher Conf.</h4>
          <span class="time">10:00 AM • Main Hall</span>
        </div>
      </div>
    </div>
  </div>

  <!-- LATEST COMMENTS -->
  <div class="panel-section comments-section" style="margin-top: 30px;">
    <div class="panel-section-header">
      <h3 style="font-family: 'Cinzel', serif; color: #2E5D4B;">Latest comments</h3>
    </div>
    <div class="comments-list" style="display: flex; flex-direction: column; gap: 15px;">
      <!-- Comment 1 -->
      <div class="comment-item" style="background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-left: 4px solid #2E5D4B;">
        <p class="comment-text" style="font-style: italic; color: #555; font-size: 13px; line-height: 1.5; margin-bottom: 8px;">"Sofia's recent leadership in the group history project was outstanding. She ensured every member participated."</p>
        <div class="comment-meta" style="display: flex; justify-content: space-between; font-size: 11px; color: #888; font-weight: 600;">
            <span><i class="fas fa-chalkboard-teacher"></i> Room III A</span>
            <span>History</span>
        </div>
      </div>

      <!-- Comment 2 -->
      <div class="comment-item" style="background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-left: 4px solid #D9534F;">
        <p class="comment-text" style="font-style: italic; color: #555; font-size: 13px; line-height: 1.5; margin-bottom: 8px;">"Leo needs to improve his focus during independent work times and resist distractions."</p>
        <div class="comment-meta" style="display: flex; justify-content: space-between; font-size: 11px; color: #888; font-weight: 600;">
            <span><i class="fas fa-chalkboard-teacher"></i> Room IV B</span>
            <span>Social Studies</span>
        </div>
      </div>

      <!-- Comment 3 -->
      <div class="comment-item" style="background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-left: 4px solid #F0AD4E;">
        <p class="comment-text" style="font-style: italic; color: #555; font-size: 13px; line-height: 1.5; margin-bottom: 8px;">"Great improvement in essay structure this week. Keep up the good work on citations."</p>
        <div class="comment-meta" style="display: flex; justify-content: space-between; font-size: 11px; color: #888; font-weight: 600;">
            <span><i class="fas fa-chalkboard-teacher"></i> Room V A</span>
            <span>Philosophy</span>
        </div>
      </div>

      <!-- Comment 4 -->
      <div class="comment-item" style="background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-left: 4px solid #5BC0DE;">
        <p class="comment-text" style="font-style: italic; color: #555; font-size: 13px; line-height: 1.5; margin-bottom: 8px;">"Maria consistently asks insightful questions that drive the class discussion forward."</p>
        <div class="comment-meta" style="display: flex; justify-content: space-between; font-size: 11px; color: #888; font-weight: 600;">
            <span><i class="fas fa-chalkboard-teacher"></i> Room III B</span>
            <span>Literature</span>
        </div>
      </div>

      <!-- Comment 5 -->
      <div class="comment-item" style="background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-left: 4px solid #9370DB;">
        <p class="comment-text" style="font-style: italic; color: #555; font-size: 13px; line-height: 1.5; margin-bottom: 8px;">"James struggled with the latest algebraic concepts; recommended extra tutoring."</p>
        <div class="comment-meta" style="display: flex; justify-content: space-between; font-size: 11px; color: #888; font-weight: 600;">
            <span><i class="fas fa-chalkboard-teacher"></i> Room IV A</span>
            <span>Math</span>
        </div>
      </div>
    </div>
  </div>

  <!-- EVENT DETAILS POPUP -->
  <div class="event-popup-overlay" id="eventPopupOverlay">
    <div class="event-popup">
      <div class="event-popup-header">
        <h3 id="eventPopupTitle">Event Title</h3>
        <button
          type="button"
          class="event-popup-close"
          id="eventPopupClose"
          aria-label="Close"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="event-popup-body">
        <div class="event-popup-row">
          <i class="fas fa-calendar"></i>
          <span id="eventPopupDate">January 12, 2026</span>
        </div>
        <div class="event-popup-row">
          <i class="fas fa-clock"></i>
          <span id="eventPopupTime">10:00 AM (60 min)</span>
        </div>
        <div class="event-popup-row">
          <i class="fas fa-tag"></i>
          <span id="eventPopupType">Meeting</span>
        </div>
        <div class="event-popup-row" id="eventPopupParticipantsRow">
          <i class="fas fa-users"></i>
          <span id="eventPopupParticipants">No participants</span>
        </div>
        <div class="event-popup-notes" id="eventPopupNotesSection">
          <h4><i class="fas fa-sticky-note"></i> Notes</h4>
          <p id="eventPopupNotes">No notes added.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Global Calendar Data -->
  <script id="globalCalendarData" type="application/json">
    {{ global_events_json|safe }}
  </script>
</div>
